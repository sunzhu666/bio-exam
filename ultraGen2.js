// 超大规模题库生成器2 - 更多单元综合题
const ultraGen2 = {
    baseId: 105000,
    shuffle(arr) { const r=[...arr]; for(let i=r.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[r[i],r[j]]=[r[j],r[i]];} return r; },
    makeQ(id,unit,diff,q,c,w,a) { const opts=this.shuffle([c,...w.slice(0,3)]); const idx=opts.indexOf(c); const L=["A","B","C","D"];
        return {id,type:"choice",unit,difficulty:diff,score:2,content:q+"（　　）",options:opts.map((o,i)=>`${L[i]}. ${o}`),answer:L[idx],analysis:a}; },

    genUnit4() {
        const qs = []; let id = this.baseId;
        const items = [
            {q:"光合作用的原料是",a:"二氧化碳和水",w:["氧气和水","有机物和氧气","葡萄糖和氧气"]},
            {q:"光合作用的产物是",a:"有机物和氧气",w:["二氧化碳和水","葡萄糖和二氧化碳","淀粉和二氧化碳"]},
            {q:"光合作用的场所是",a:"叶绿体",w:["线粒体","细胞核","液泡"]},
            {q:"光合作用的条件是",a:"光",w:["氧气","二氧化碳","水"]},
            {q:"光合作用的能量转变是",a:"光能→化学能",w:["化学能→光能","热能→化学能","化学能→热能"]},
            {q:"呼吸作用的原料是",a:"有机物和氧气",w:["二氧化碳和水","葡萄糖和二氧化碳","淀粉和水"]},
            {q:"呼吸作用的产物是",a:"二氧化碳和水",w:["有机物和氧气","葡萄糖和氧气","淀粉和氧气"]},
            {q:"呼吸作用的场所是",a:"线粒体",w:["叶绿体","细胞核","液泡"]},
            {q:"呼吸作用的能量转变是",a:"化学能→其他形式能量",w:["光能→化学能","热能→化学能","其他能量→化学能"]},
            {q:"呼吸作用进行的时间是",a:"时刻都在进行",w:["只在白天","只在夜间","只在有光时"]},
            {q:"蒸腾作用的主要器官是",a:"叶",w:["根","茎","花"]},
            {q:"蒸腾作用的主要部位是",a:"气孔",w:["叶肉","叶脉","表皮"]},
            {q:"蒸腾作用散失的物质是",a:"水蒸气",w:["氧气","二氧化碳","有机物"]},
            {q:"移栽植物时剪去部分枝叶是为了",a:"减少蒸腾作用",w:["减少光合作用","减少呼吸作用","增加营养"]},
            {q:"验证光合作用产生淀粉用",a:"碘液",w:["石灰水","酒精","盐酸"]}
        ];
        items.forEach(item => { qs.push(this.makeQ(id++,"unit4","medium",item.q,item.a,item.w,`${item.a}是正确答案。`)); });
        this.baseId = id; return qs;
    },

    genUnit5() {
        const qs = []; let id = this.baseId;
        const items = [
            {q:"人体需要的六大营养物质是",a:"糖类、蛋白质、脂肪、维生素、无机盐、水",w:["只有糖类和蛋白质","只有维生素","只有水"]},
            {q:"人体最重要的供能物质是",a:"糖类",w:["蛋白质","脂肪","维生素"]},
            {q:"构成细胞的基本物质是",a:"蛋白质",w:["糖类","脂肪","维生素"]},
            {q:"人体的储能物质是",a:"脂肪",w:["糖类","蛋白质","维生素"]},
            {q:"缺乏维生素A会导致",a:"夜盲症",w:["脚气病","坏血病","佝偻病"]},
            {q:"缺乏维生素B1会导致",a:"脚气病",w:["夜盲症","坏血病","佝偻病"]},
            {q:"缺乏维生素C会导致",a:"坏血病",w:["夜盲症","脚气病","佝偻病"]},
            {q:"缺乏维生素D会导致",a:"佝偻病",w:["夜盲症","脚气病","坏血病"]},
            {q:"缺乏钙会导致",a:"骨质疏松",w:["贫血","甲状腺肿大","夜盲症"]},
            {q:"缺乏铁会导致",a:"贫血",w:["骨质疏松","甲状腺肿大","夜盲症"]},
            {q:"缺乏碘会导致",a:"甲状腺肿大",w:["贫血","骨质疏松","夜盲症"]},
            {q:"消化系统由什么组成",a:"消化道和消化腺",w:["只有消化道","只有消化腺","胃和肠"]},
            {q:"消化和吸收的主要场所是",a:"小肠",w:["胃","大肠","口腔"]},
            {q:"不含消化酶的消化液是",a:"胆汁",w:["唾液","胃液","肠液"]},
            {q:"人体最大的消化腺是",a:"肝脏",w:["胰腺","唾液腺","胃腺"]}
        ];
        items.forEach(item => { qs.push(this.makeQ(id++,"unit5","medium",item.q,item.a,item.w,`${item.a}是正确答案。`)); });
        this.baseId = id; return qs;
    },

    genUnit6() {
        const qs = []; let id = this.baseId;
        const items = [
            {q:"呼吸系统由什么组成",a:"呼吸道和肺",w:["只有肺","只有气管","鼻和口"]},
            {q:"呼吸系统的主要器官是",a:"肺",w:["鼻腔","气管","支气管"]},
            {q:"气体交换的场所是",a:"肺泡",w:["气管","支气管","鼻腔"]},
            {q:"呼吸道的作用是",a:"温暖、湿润、清洁空气",w:["气体交换","发出声音","吞咽食物"]},
            {q:"吸气时膈肌",a:"收缩，膈顶下降",w:["舒张，膈顶上升","不变","先收缩后舒张"]},
            {q:"呼气时膈肌",a:"舒张，膈顶上升",w:["收缩，膈顶下降","不变","先舒张后收缩"]},
            {q:"吸气时胸廓",a:"扩大",w:["缩小","不变","先扩大后缩小"]},
            {q:"呼气时胸廓",a:"缩小",w:["扩大","不变","先缩小后扩大"]},
            {q:"吸气时肺内气压",a:"低于外界气压",w:["高于外界气压","等于外界气压","先高后低"]},
            {q:"呼气时肺内气压",a:"高于外界气压",w:["低于外界气压","等于外界气压","先低后高"]},
            {q:"肺泡适于气体交换的特点是",a:"数量多、壁薄、外有毛细血管",w:["体积大","有纤毛","有黏液"]},
            {q:"人体呼出气体中增多的成分是",a:"二氧化碳和水蒸气",w:["氧气","氮气","稀有气体"]},
            {q:"人体呼出气体中减少的成分是",a:"氧气",w:["二氧化碳","氮气","水蒸气"]},
            {q:"肺泡与血液之间的气体交换是通过",a:"气体扩散",w:["主动运输","渗透作用","吞噬作用"]},
            {q:"组织细胞与血液之间的气体交换是通过",a:"气体扩散",w:["主动运输","渗透作用","吞噬作用"]}
        ];
        items.forEach(item => { qs.push(this.makeQ(id++,"unit6","medium",item.q,item.a,item.w,`${item.a}是正确答案。`)); });
        this.baseId = id; return qs;
    },

    generateAll() { return [...this.genUnit4(),...this.genUnit5(),...this.genUnit6()]; }
};
