<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>初中生物智能组卷系统</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 顶部导航栏 -->
    <header class="navbar">
        <div class="navbar-left">
            <div class="logo">🧬 初中生物智能组卷</div>
        </div>
        <div class="navbar-center">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="搜索题目内容...">
                <button id="searchBtn" class="search-btn">搜索</button>
            </div>
        </div>
        <div class="navbar-right">
            <div class="stats-mini">
                <span class="stat-badge">题库 <strong id="totalQuestions">0</strong> 题</span>
            </div>
        </div>
    </header>

    <!-- 题库统计面板 -->
    <div class="stats-panel" id="statsPanel">
        <div class="stat-card">
            <div class="stat-icon">📝</div>
            <div class="stat-info"><span class="stat-num" id="statChoice">0</span><span class="stat-label">选择题</span></div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">✏️</div>
            <div class="stat-info"><span class="stat-num" id="statBlank">0</span><span class="stat-label">填空题</span></div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">✅</div>
            <div class="stat-info"><span class="stat-num" id="statJudge">0</span><span class="stat-label">判断题</span></div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">💬</div>
            <div class="stat-info"><span class="stat-num" id="statShort">0</span><span class="stat-label">简答题</span></div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">🔬</div>
            <div class="stat-info"><span class="stat-num" id="statExperiment">0</span><span class="stat-label">实验探究</span></div>
        </div>
        <div class="stat-card">
            <div class="stat-icon stat-easy">●</div>
            <div class="stat-info"><span class="stat-num" id="statEasy">0</span><span class="stat-label">简单</span></div>
        </div>
        <div class="stat-card">
            <div class="stat-icon stat-medium">●</div>
            <div class="stat-info"><span class="stat-num" id="statMedium">0</span><span class="stat-label">中等</span></div>
        </div>
        <div class="stat-card">
            <div class="stat-icon stat-hard">●</div>
            <div class="stat-info"><span class="stat-num" id="statHard">0</span><span class="stat-label">较难</span></div>
        </div>
    </div>

    <!-- 主内容区 -->
    <div class="main-layout">
        <!-- 左侧筛选栏 -->
        <aside class="filter-sidebar" id="filterSidebar">
            <h3 class="filter-title">筛选条件</h3>
            <!-- 知识点树形标签 -->
            <div class="filter-group">
                <div class="filter-group-header" onclick="app.toggleFilterGroup('unitGroup')">
                    <span>📖 知识点</span><span class="arrow" id="unitGroupArrow">▼</span>
                </div>
                <div class="filter-tags" id="unitGroup"></div>
            </div>
            <!-- 题型标签 -->
            <div class="filter-group">
                <div class="filter-group-header">📋 题型</div>
                <div class="filter-tags" id="typeGroup">
                    <button class="tag-btn tag-type active" data-type="">全部</button>
                    <button class="tag-btn tag-type" data-type="choice">选择题</button>
                    <button class="tag-btn tag-type" data-type="blank">填空题</button>
                    <button class="tag-btn tag-type" data-type="judge">判断题</button>
                    <button class="tag-btn tag-type" data-type="short">简答题</button>
                    <button class="tag-btn tag-type" data-type="experiment">实验探究</button>
                </div>
            </div>
            <!-- 难度标签 -->
            <div class="filter-group">
                <div class="filter-group-header">📊 难度</div>
                <div class="filter-tags" id="difficultyGroup">
                    <button class="tag-btn tag-diff active" data-diff="">全部</button>
                    <button class="tag-btn tag-diff tag-easy" data-diff="easy">简单</button>
                    <button class="tag-btn tag-diff tag-medium" data-diff="medium">中等</button>
                    <button class="tag-btn tag-diff tag-hard" data-diff="hard">较难</button>
                </div>
            </div>
            <!-- 来源筛选 -->
            <div class="filter-group">
                <div class="filter-group-header">📌 来源</div>
                <div class="filter-tags" id="sourceGroup">
                    <button class="tag-btn tag-source active" data-source="">全部</button>
                    <button class="tag-btn tag-source" data-source="generated">生成题</button>
                    <button class="tag-btn tag-source" data-source="exam">中考真题</button>
                    <button class="tag-btn tag-source" data-source="weekly">周练题</button>
                </div>
            </div>
            <button class="btn btn-block btn-outline" id="resetFilterBtn">重置筛选</button>
        </aside>

        <!-- 中间题目列表 -->
        <main class="question-area">
            <div class="question-toolbar" id="questionToolbar">
                <div class="toolbar-left">
                    <span class="result-count">共 <strong id="filteredCount">0</strong> 题</span>
                    <button class="btn btn-sm btn-accent" id="smartSelectBtn">⚡ 智能组卷</button>
                    <select id="templateSelect" class="template-select">
                        <option value="">选择试卷模板...</option>
                        <option value="midterm">期中考试</option>
                        <option value="final">期末考试</option>
                        <option value="unit">单元测试</option>
                        <option value="weekly">周练</option>
                    </select>
                </div>
                <div class="toolbar-right">
                    <button class="btn btn-sm" id="showFavBtn">⭐ 我的收藏 (<span id="favCount">0</span>)</button>
                </div>
            </div>
            <div class="question-list" id="questionList"></div>
            <div class="pagination" id="pagination"></div>
        </main>

        <!-- 右侧试卷面板 -->
        <aside class="paper-sidebar" id="paperSidebar">
            <h3 class="paper-title">📄 我的试卷</h3>
            <div class="paper-stats">
                <div class="paper-stat"><span class="paper-stat-num" id="paperCount">0</span><span>题</span></div>
                <div class="paper-stat"><span class="paper-stat-num" id="totalScore">0</span><span>分</span></div>
            </div>
            <!-- 难度分布饼图 -->
            <div class="pie-chart-wrap">
                <div class="pie-chart" id="difficultyPie"></div>
                <div class="pie-legend" id="pieLegend">
                    <span class="legend-item"><i class="dot dot-easy"></i>简单</span>
                    <span class="legend-item"><i class="dot dot-medium"></i>中等</span>
                    <span class="legend-item"><i class="dot dot-hard"></i>较难</span>
                </div>
            </div>
            <!-- 题型统计 -->
            <div class="paper-type-stats" id="paperTypeStats"></div>
            <!-- 试卷题目列表 -->
            <div class="paper-list" id="paperList"></div>
            <div class="paper-actions">
                <button class="btn btn-primary btn-block" id="exportWordBtn">📥 导出Word</button>
                <button class="btn btn-outline btn-block" id="previewBtn">👁 预览试卷</button>
                <button class="btn btn-danger btn-block" id="clearBtn">🗑 清空试卷</button>
            </div>
        </aside>
    </div>

    <!-- 预览弹窗 -->
    <div id="previewModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3>试卷预览</h3>
                <span class="modal-close" id="closePreview">&times;</span>
            </div>
            <div class="modal-body" id="paperPreview"></div>
            <div class="modal-footer">
                <button id="printBtn" class="btn btn-primary">打印试卷</button>
            </div>
        </div>
    </div>

    <script src="questions.js"></script>
    <script src="generator.js"></script>
    <script src="massGenerator.js"></script>
    <script src="megaGenerator.js"></script>
    <script src="superGenerator.js"></script>
    <script src="hugeGenerator.js"></script>
    <script src="ultimateGenerator.js"></script>
    <script src="extraGenerator1.js"></script>
    <script src="extraGenerator2.js"></script>
    <script src="extraGenerator3.js"></script>
    <script src="extraGenerator4.js"></script>
    <script src="extraGenerator5.js"></script>
    <script src="extraGenerator6.js"></script>
    <script src="extraGenerator7.js"></script>
    <script src="extraGenerator8.js"></script>
    <script src="extraGenerator9.js"></script>
    <script src="extraGenerator10.js"></script>
    <script src="megaGenA.js"></script>
    <script src="megaGenB.js"></script>
    <script src="megaGenC.js"></script>
    <script src="megaGenD.js"></script>
    <script src="megaGenE.js"></script>
    <script src="megaGenF.js"></script>
    <script src="megaGenG.js"></script>
    <script src="megaGenH.js"></script>
    <script src="megaGenI.js"></script>
    <script src="megaGenJ.js"></script>
    <script src="ultraGen1.js"></script>
    <script src="ultraGen2.js"></script>
    <script src="ultraGen3.js"></script>
    <script src="ultraGen4.js"></script>
    <script src="massiveGenA.js"></script>
    <script src="massiveGenB.js"></script>
    <script src="massiveGenC.js"></script>
    <script src="massiveGenD.js"></script>
    <script src="massiveGenE.js"></script>
    <script src="massiveGenF.js"></script>
    <script src="massiveGenG.js"></script>
    <script src="massiveGenH.js"></script>
    <script src="massiveGenI.js"></script>
    <script src="massiveGenJ.js"></script>
    <script src="giantGen1.js"></script>
    <script src="giantGen2.js"></script>
    <script src="giantGen3.js"></script>
    <script src="giantGen4.js"></script>
    <script src="giantGen5.js"></script>
    <script src="giantGen6.js"></script>
    <script src="giantGen7.js"></script>
    <script src="giantGen8.js"></script>
    <script src="giantGen9.js"></script>
    <script src="giantGen10.js"></script>
    <script src="giantGen11.js"></script>
    <script src="giantGen12.js"></script>
    <script src="giantGen13.js"></script>
    <script src="giantGen14.js"></script>
    <script src="giantGen15.js"></script>
    <script src="giantGen16.js"></script>
    <script src="giantGen17.js"></script>
    <script src="giantGen18.js"></script>
    <script src="giantGen19.js"></script>
    <script src="giantGen20.js"></script>
    <script src="giantGen21.js"></script>
    <script src="giantGen22.js"></script>
    <script src="giantGen23.js"></script>
    <script src="giantGen24.js"></script>
    <script src="giantGen25.js"></script>
    <script src="giantGen26.js"></script>
    <script src="giantGen27.js"></script>
    <script src="giantGen28.js"></script>
    <script src="giantGen29.js"></script>
    <script src="giantGen30.js"></script>
    <script src="giantGen31.js"></script>
    <script src="giantGen32.js"></script>
    <script src="giantGen33.js"></script>
    <script src="giantGen34.js"></script>
    <script src="giantGen35.js"></script>
    <script src="giantGen36.js"></script>
    <script src="giantGen37.js"></script>
    <script src="giantGen38.js"></script>
    <script src="giantGen39.js"></script>
    <script src="giantGen40.js"></script>
    <script src="giantGen41.js"></script>
    <script src="giantGen42.js"></script>
    <script src="giantGen43.js"></script>
    <script src="giantGen44.js"></script>
    <script src="giantGen45.js"></script>
    <script src="giantGen46.js"></script>
    <script src="giantGen47.js"></script>
    <script src="giantGen48.js"></script>
    <script src="giantGen49.js"></script>
    <script src="giantGen50.js"></script>
    <script src="giantGen51.js"></script>
    <script src="giantGen52.js"></script>
    <script src="giantGen53.js"></script>
    <script src="giantGen54.js"></script>
    <script src="giantGen55.js"></script>
    <script src="giantGen56.js"></script>
    <script src="giantGen57.js"></script>
    <script src="giantGen58.js"></script>
    <script src="giantGen59.js"></script>
    <script src="giantGen60.js"></script>
    <script src="giantGen61.js"></script>
    <script src="giantGen62.js"></script>
    <script src="giantGen63.js"></script>
    <script src="giantGen64.js"></script>
    <script src="giantGen65.js"></script>
    <script src="giantGen66.js"></script>
    <script src="giantGen67.js"></script>
    <script src="giantGen68.js"></script>
    <script src="giantGen69.js"></script>
    <script src="giantGen70.js"></script>
    <script src="giantGen71.js"></script>
    <script src="giantGen72.js"></script>
    <script src="giantGen73.js"></script>
    <script src="giantGen74.js"></script>
    <script src="giantGen75.js"></script>
    <script src="giantGen76.js"></script>
    <script src="giantGen77.js"></script>
    <script src="giantGen78.js"></script>
    <script src="giantGen79.js"></script>
    <script src="giantGen80.js"></script>
    <script src="giantGen81.js"></script>
    <script src="giantGen82.js"></script>
    <script src="giantGen83.js"></script>
    <script src="giantGen84.js"></script>
    <script src="giantGen85.js"></script>
    <script src="giantGen86.js"></script>
    <script src="giantGen87.js"></script>
    <script src="giantGen88.js"></script>
    <script src="giantGen89.js"></script>
    <script src="giantGen90.js"></script>
    <script src="giantGen91.js"></script>
    <script src="giantGen92.js"></script>
    <script src="giantGen93.js"></script>
    <script src="giantGen94.js"></script>
    <script src="giantGen95.js"></script>
    <script src="giantGen96.js"></script>
    <script src="giantGen97.js"></script>
    <script src="giantGen98.js"></script>
    <script src="giantGen99.js"></script>
    <script src="giantGen100.js"></script>
    <script src="giantGen101.js"></script>
    <script src="giantGen102.js"></script>
    <script src="giantGen103.js"></script>
    <script src="giantGen104.js"></script>
    <script src="giantGen105.js"></script>
    <script src="giantGen106.js"></script>
    <script src="giantGen107.js"></script>
    <script src="giantGen108.js"></script>
    <script src="giantGen109.js"></script>
    <script src="giantGen110.js"></script>
    <script src="giantGen111.js"></script>
    <script src="giantGen112.js"></script>
    <script src="giantGen113.js"></script>
    <script src="giantGen114.js"></script>
    <script src="giantGen115.js"></script>
    <script src="giantGen116.js"></script>
    <script src="giantGen117.js"></script>
    <script src="giantGen118.js"></script>
    <script src="giantGen119.js"></script>
    <script src="giantGen120.js"></script>
    <script src="giantGen121.js"></script>
    <script src="giantGen122.js"></script>
    <script src="giantGen123.js"></script>
    <script src="giantGen124.js"></script>
    <script src="giantGen125.js"></script>
    <script src="giantGen126.js"></script>
    <script src="giantGen127.js"></script>
    <script src="giantGen128.js"></script>
    <script src="giantGen129.js"></script>
    <script src="giantGen130.js"></script>
    <script src="giantGen131.js"></script>
    <script src="giantGen132.js"></script>
    <script src="giantGen133.js"></script>
    <script src="giantGen134.js"></script>
    <script src="giantGen135.js"></script>
    <script src="giantGen136.js"></script>
    <script src="giantGen137.js"></script>
    <script src="giantGen138.js"></script>
    <script src="giantGen139.js"></script>
    <script src="giantGen140.js"></script>
    <script src="giantGen141.js"></script>
    <script src="giantGen142.js"></script>
    <script src="giantGen143.js"></script>
    <script src="giantGen144.js"></script>
    <script src="giantGen145.js"></script>
    <script src="giantGen146.js"></script>
    <script src="giantGen147.js"></script>
    <script src="giantGen148.js"></script>
    <script src="giantGen149.js"></script>
    <script src="giantGen150.js"></script>
    <script src="giantGen151.js"></script>
    <script src="giantGen152.js"></script>
    <script src="giantGen153.js"></script>
    <script src="giantGen154.js"></script>
    <script src="giantGen155.js"></script>
    <script src="giantGen156.js"></script>
    <script src="giantGen157.js"></script>
    <script src="giantGen158.js"></script>
    <script src="giantGen159.js"></script>
    <script src="giantGen160.js"></script>
    <script src="giantGen161.js"></script>
    <script src="giantGen162.js"></script>
    <script src="giantGen163.js"></script>
    <script src="giantGen164.js"></script>
    <script src="giantGen165.js"></script>
    <script src="giantGen166.js"></script>
    <script src="giantGen167.js"></script>
    <script src="giantGen168.js"></script>
    <script src="giantGen169.js"></script>
    <script src="giantGen170.js"></script>
    <script src="giantGen171.js"></script>
    <script src="giantGen172.js"></script>
    <script src="giantGen173.js"></script>
    <script src="giantGen174.js"></script>
    <script src="giantGen175.js"></script>
    <script src="crossSubjectGen1.js"></script>
    <script src="crossSubjectGen2.js"></script>
    <script src="crossSubjectGen3.js"></script>
    <script src="examQuestions.js"></script>
    <script src="weeklyQuestions.js"></script>
    <script src="newQuestions.js"></script>
    <script src="app.js"></script>
</body>
</html>
